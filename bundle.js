var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function l(t){t.forEach(r)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const i="undefined"!=typeof window;let c=i?()=>window.performance.now():()=>Date.now(),f=i?t=>requestAnimationFrame(t):t;const u=new Set;let d,p=!1;function g(){u.forEach(t=>{t[0](c())||(u.delete(t),t[1]())}),(p=u.size>0)&&f(g)}function h(t){let e;return p||(p=!0,f(g)),{promise:new Promise(n=>{u.add(e=[t,n])}),abort(){u.delete(e)}}}function m(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function v(){return t=" ",document.createTextNode(t);var t}function k(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function w(t,e,n){t.classList[n?"add":"remove"](e)}let x,O=0,j={};function _(t,e,n,r,o,l,a,s=0){const i=16.666/r;let c="{\n";for(let t=0;t<=1;t+=i){const r=e+(n-e)*l(t);c+=100*t+`%{${a(r,1-r)}}\n`}const f=c+`100% {${a(n,1-n)}}\n}`,u=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(f)}_${s}`;if(!j[u]){if(!d){const t=$("style");document.head.appendChild(t),d=t.sheet}j[u]=!0,d.insertRule(`@keyframes ${u} ${f}`,d.cssRules.length)}const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${u} ${r}ms linear ${o}ms 1 both`,O+=1,u}function C(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--O&&f(()=>{if(O)return;let t=d.cssRules.length;for(;t--;)d.deleteRule(t);j={}})}function M(n,r,o,l){if(!r)return t;const a=n.getBoundingClientRect();if(r.left===a.left&&r.right===a.right&&r.top===a.top&&r.bottom===a.bottom)return t;const{delay:s=0,duration:i=300,easing:f=e,start:u=c()+s,end:d=u+i,tick:p=t,css:g}=o(n,{from:r,to:a},l);let m,b=!0,y=!1;function $(){g&&C(n,m),b=!1}return h(t=>{if(!y&&t>=u&&(y=!0),y&&t>=d&&(p(1,0),$()),!b)return!1;if(y){const e=0+1*f((t-u)/i);p(e,1-e)}return!0}),g&&(m=_(n,0,1,i,s,f,g)),s||(y=!0),p(0,1),$}function E(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:r}=e,o=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,R(t,o)}}function R(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const r=getComputedStyle(t),o="none"===r.transform?"":r.transform;t.style.transform=`${o} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}function S(t){x=t}const B=[],q=[],I=[],T=[],P=Promise.resolve();let A,L=!1;function N(t){I.push(t)}function z(){const t=new Set;do{for(;B.length;){const t=B.shift();S(t),D(t.$$)}for(;q.length;)q.pop()();for(let e=0;e<I.length;e+=1){const n=I[e];t.has(n)||(n(),t.add(n))}I.length=0}while(B.length);for(;T.length;)T.pop()();L=!1}function D(t){t.fragment&&(t.update(t.dirty),l(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(N))}function F(){return A||(A=Promise.resolve()).then(()=>{A=null}),A}function G(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const H=new Set;let J;function K(){J={r:0,c:[],p:J}}function Q(){J.r||l(J.c),J=J.p}function U(t,e){t&&t.i&&(H.delete(t),t.i(e))}function V(t,e,n,r){if(t&&t.o){if(H.has(t))return;H.add(t),J.c.push(()=>{H.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const W={duration:0};function X(n,r,o){let l,s,i=r(n,o),f=!1,u=0;function d(){l&&C(n,l)}function p(){const{delay:r=0,duration:o=300,easing:a=e,tick:p=t,css:g}=i||W;g&&(l=_(n,0,1,o,r,a,g,u++)),p(0,1);const m=c()+r,b=m+o;s&&s.abort(),f=!0,N(()=>G(n,!0,"start")),s=h(t=>{if(f){if(t>=b)return p(1,0),G(n,!0,"end"),d(),f=!1;if(t>=m){const e=a((t-m)/o);p(e,1-e)}}return f})}let g=!1;return{start(){g||(C(n),a(i)?(i=i(),F().then(p)):p())},invalidate(){g=!1},end(){f&&(d(),f=!1)}}}function Y(n,r,o){let s,i=r(n,o),f=!0;const u=J;function d(){const{delay:r=0,duration:o=300,easing:a=e,tick:d=t,css:p}=i||W;p&&(s=_(n,1,0,o,r,a,p));const g=c()+r,m=g+o;N(()=>G(n,!1,"start")),h(t=>{if(f){if(t>=m)return d(0,1),G(n,!1,"end"),--u.r||l(u.c),!1;if(t>=g){const e=a((t-g)/o);d(1-e,e)}}return f})}return u.r+=1,a(i)?F().then(()=>{i=i(),d()}):d(),{end(t){t&&i.tick&&i.tick(1,0),f&&(s&&C(n,s),f=!1)}}}function Z(t,e){t.f(),function(t,e){V(t,1,1,()=>{e.delete(t.key)})}(t,e)}function tt(t,e,n,r,o,l,a,s,i,c,f,u){let d=t.length,p=l.length,g=d;const h={};for(;g--;)h[t[g].key]=g;const m=[],b=new Map,y=new Map;for(g=p;g--;){const t=u(o,l,g),s=n(t);let i=a.get(s);i?r&&i.p(e,t):(i=c(s,t)).c(),b.set(s,m[g]=i),s in h&&y.set(s,Math.abs(g-h[s]))}const $=new Set,v=new Set;function k(t){U(t,1),t.m(s,f),a.set(t.key,t),f=t.first,p--}for(;d&&p;){const e=m[p-1],n=t[d-1],r=e.key,o=n.key;e===n?(f=e.first,d--,p--):b.has(o)?!a.has(r)||$.has(r)?k(e):v.has(o)?d--:y.get(r)>y.get(o)?(v.add(r),k(e)):($.add(o),d--):(i(n,a),d--)}for(;d--;){const e=t[d];b.has(e.key)||i(e,a)}for(;p;)k(m[p-1]);return m}function et(t,e){t.$$.dirty||(B.push(t),L||(L=!0,P.then(z)),t.$$.dirty=o()),t.$$.dirty[e]=!0}function nt(e,n,s,i,c,f){const u=x;S(e);const d=n.props||{},p=e.$$={fragment:null,ctx:null,props:f,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:null};let g=!1;var h;p.ctx=s?s(e,d,(t,n,r=n)=>(p.ctx&&c(p.ctx[t],p.ctx[t]=r)&&(p.bound[t]&&p.bound[t](r),g&&et(e,t)),n)):d,p.update(),g=!0,l(p.before_update),p.fragment=i(p.ctx),n.target&&(n.hydrate?p.fragment.l((h=n.target,Array.from(h.childNodes))):p.fragment.c(),n.intro&&U(e.$$.fragment),function(t,e,n){const{fragment:o,on_mount:s,on_destroy:i,after_update:c}=t.$$;o.m(e,n),N(()=>{const e=s.map(r).filter(a);i?i.push(...e):l(e),t.$$.on_mount=[]}),c.forEach(N)}(e,n.target,n.anchor),z()),S(u)}class rt{$destroy(){var e,n;n=1,(e=this).$$.fragment&&(l(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function ot(t){const e=t-1;return e*e*e+1}function lt(t){return--t*t*t*t*t+1}function at(t,{delay:e=0,duration:n=400,easing:r=ot,x:o=0,y:l=0,opacity:a=0}){const s=getComputedStyle(t),i=+s.opacity,c="none"===s.transform?"":s.transform,f=i*(1-a);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${c} translate(${(1-t)*o}px, ${(1-t)*l}px);\n\t\t\topacity: ${i-f*e}`}}function st(t){var{fallback:e}=t,r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["fallback"]);const o=new Map,l=new Map;function s(t,o,l){return(s,i)=>(t.set(i.key,{rect:s.getBoundingClientRect()}),()=>{if(o.has(i.key)){const{rect:t}=o.get(i.key);return o.delete(i.key),function(t,e,o){const{delay:l=0,duration:s=(t=>30*Math.sqrt(t)),easing:i=ot}=n(n({},r),o),c=e.getBoundingClientRect(),f=t.left-c.left,u=t.top-c.top,d=t.width/c.width,p=t.height/c.height,g=Math.sqrt(f*f+u*u),h=getComputedStyle(e),m="none"===h.transform?"":h.transform,b=+h.opacity;return{delay:l,duration:a(s)?s(g):s,easing:i,css:(t,e)=>`\n\t\t\t\topacity: ${t*b};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${m} translate(${e*f}px,${e*u}px) scale(${t+(1-t)*d}, ${t+(1-t)*p});\n\t\t\t`}}(t,s,i)}return t.delete(i.key),e&&e(s,i,l)})}return[s(l,o,!1),s(o,l,!0)]}function it(t,e,n){const r=getComputedStyle(t),o="none"===r.transform?"":r.transform,l=e.from.left-e.to.left,s=e.from.top-e.to.top,i=Math.sqrt(l*l+s*s),{delay:c=0,duration:f=(t=>120*Math.sqrt(t)),easing:u=ot}=n;return{delay:c,duration:a(f)?f(i):f,easing:u,css:(t,e)=>`transform: ${o} translate(${e*l}px, ${e*s}px);`}}function ct(t,e,n){const r=Object.create(t);return r.ball=e[n],r}function ft(t,e,n){const r=Object.create(t);return r.ball=e[n],r}function ut(t,e,n){const r=Object.create(t);return r.ball=e[n],r}function dt(e,n){var r,o,l,a,s,i,c,f=t;function u(){return n.click_handler(n)}return{key:e,first:null,c(){var t,e,a,s;r=$("div"),k(o=$("img"),"src",l=n.ball.basketball?bt:mt),k(o,"alt","ball"),k(o,"class","svelte-15spdjd"),k(r,"class","ball-wrapper svelte-15spdjd"),e="click",a=u,(t=r).addEventListener(e,a,s),c=(()=>t.removeEventListener(e,a,s)),this.first=r},m(t,e){b(t,r,e),m(r,o),i=!0},p(t,e){n=e,i&&!t.balls||l===(l=n.ball.basketball?bt:mt)||k(o,"src",l)},r(){s=r.getBoundingClientRect()},f(){E(r),f(),R(r,s)},a(){f(),f=M(r,s,it,{delay:0,duration:750,easing:lt})},i(t){i||(a&&a.end(1),i=!0)},o(t){a=Y(r,n.send,{key:n.ball.id}),i=!1},d(t){t&&(y(r),a&&a.end()),c()}}}function pt(e,n){var r,o,l,a,s,i,c,f,u=t;return{key:e,first:null,c(){r=$("div"),o=$("img"),a=v(),k(o,"src",l=n.ball.basketball?bt:mt),k(o,"alt","ball"),k(o,"class","svelte-15spdjd"),k(r,"class","ball-wrapper svelte-15spdjd"),this.first=r},m(t,e){b(t,r,e),m(r,o),m(r,a),f=!0},p(t,e){f&&!t.rampOne||l===(l=e.ball.basketball?bt:mt)||k(o,"src",l)},r(){c=r.getBoundingClientRect()},f(){E(r),u(),R(r,c)},a(){u(),u=M(r,c,it,{delay:0,duration:500,easing:lt})},i(t){f||(N(()=>{i&&i.end(1),s||(s=X(r,n.receive,{key:n.ball.id})),s.start()}),f=!0)},o(t){s&&s.invalidate(),i=Y(r,at,{y:600,duration:1e3}),f=!1},d(t){t&&(y(r),i&&i.end())}}}function gt(e,n){var r,o,l,a,s,i,c,f,u=t;return{key:e,first:null,c(){r=$("div"),o=$("img"),a=v(),k(o,"src",l=n.ball.basketball?bt:mt),k(o,"alt","ball"),k(o,"class","svelte-15spdjd"),k(r,"class","ball-wrapper svelte-15spdjd"),this.first=r},m(t,e){b(t,r,e),m(r,o),m(r,a),f=!0},p(t,e){f&&!t.rampTwo||l===(l=e.ball.basketball?bt:mt)||k(o,"src",l)},r(){c=r.getBoundingClientRect()},f(){E(r),u(),R(r,c)},a(){u(),u=M(r,c,it,{delay:0,duration:500,easing:lt})},i(t){f||(N(()=>{i&&i.end(1),s||(s=X(r,n.receive,{key:n.ball.id})),s.start()}),f=!0)},o(t){s&&s.invalidate(),i=Y(r,at,{y:600,duration:1e3}),f=!1},d(t){t&&(y(r),i&&i.end())}}}function ht(t){var e,n,r,o,l,a,s,i,c,f,u=[],d=new Map,p=[],g=new Map,h=[],x=new Map;let O=t.balls;const j=t=>t.ball.id;for(let e=0;e<O.length;e+=1){let n=ut(t,O,e),r=j(n);d.set(r,u[e]=dt(r,n))}let _=t.rampOne;const C=t=>t.ball.id;for(let e=0;e<_.length;e+=1){let n=ft(t,_,e),r=C(n);g.set(r,p[e]=pt(r,n))}let M=t.rampTwo;const E=t=>t.ball.id;for(let e=0;e<M.length;e+=1){let n=ct(t,M,e),r=E(n);x.set(r,h[e]=gt(r,n))}return{c(){e=$("div"),n=$("div"),r=$("div"),o=v();for(let t=0;t<u.length;t+=1)u[t].c();l=v(),a=$("div"),s=$("div");for(let t=0;t<p.length;t+=1)p[t].c();i=v(),c=$("div");for(let t=0;t<h.length;t+=1)h[t].c();k(r,"class","scanner svelte-15spdjd"),w(r,"nio",!t.isIO),k(n,"class","pool svelte-15spdjd"),k(s,"class","ramp svelte-15spdjd"),k(c,"class","ramp svelte-15spdjd"),k(a,"class","ramp-container svelte-15spdjd"),k(e,"class","board svelte-15spdjd")},m(t,d){b(t,e,d),m(e,n),m(n,r),m(n,o);for(let t=0;t<u.length;t+=1)u[t].m(n,null);m(e,l),m(e,a),m(a,s);for(let t=0;t<p.length;t+=1)p[t].m(s,null);m(a,i),m(a,c);for(let t=0;t<h.length;t+=1)h[t].m(c,null);f=!0},p(t,e){t.isIO&&w(r,"nio",!e.isIO);const o=e.balls;K();for(let t=0;t<u.length;t+=1)u[t].r();u=tt(u,t,j,1,e,o,d,n,Z,dt,null,ut);for(let t=0;t<u.length;t+=1)u[t].a();Q();const l=e.rampOne;K();for(let t=0;t<p.length;t+=1)p[t].r();p=tt(p,t,C,1,e,l,g,s,Z,pt,null,ft);for(let t=0;t<p.length;t+=1)p[t].a();Q();const a=e.rampTwo;K();for(let t=0;t<h.length;t+=1)h[t].r();h=tt(h,t,E,1,e,a,x,c,Z,gt,null,ct);for(let t=0;t<h.length;t+=1)h[t].a();Q()},i(t){if(!f){for(let t=0;t<O.length;t+=1)U(u[t]);for(let t=0;t<_.length;t+=1)U(p[t]);for(let t=0;t<M.length;t+=1)U(h[t]);f=!0}},o(t){for(let t=0;t<u.length;t+=1)V(u[t]);for(let t=0;t<p.length;t+=1)V(p[t]);for(let t=0;t<h.length;t+=1)V(h[t]);f=!1},d(t){t&&y(e);for(let t=0;t<u.length;t+=1)u[t].d();for(let t=0;t<p.length;t+=1)p[t].d();for(let t=0;t<h.length;t+=1)h[t].d()}}}let mt="soccer.png",bt="basketball.png";function yt(t,e,n){const[r,o]=st({duration:t=>Math.sqrt(1200*t)});let l=1,a=!1,s=[...[{id:l++,basketball:!0},{id:l++,basketball:!0},{id:l++,basketball:!1},{id:l++,basketball:!1},{id:l++,basketball:!0},{id:l++,basketball:!1},{id:l++,basketball:!1}]],i=[],c=[];function f(t){t.basketball?n("rampOne",i=[t,...i]):n("rampTwo",c=[t,...c]);const e={id:l++,basketball:Math.random()<.5};n("balls",s=[...s.slice(1,s.length),e])}setInterval(()=>{i.length>5?n("rampOne",i=[]):c.length>5?n("rampTwo",c=[]):s.length>0&&(f(s[0]),n("isIO",a=!s[0].basketball))},1e3);return{send:r,receive:o,isIO:a,balls:s,rampOne:i,rampTwo:c,filterBall:f,click_handler:({ball:t})=>f(t)}}return new class extends rt{constructor(t){super(),nt(this,t,yt,ht,s,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
