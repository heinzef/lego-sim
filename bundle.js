var app=function(){"use strict";function n(){}const e=n=>n;function t(n,e){for(const t in e)n[t]=e[t];return n}function a(n){return n()}function i(){return Object.create(null)}function r(n){n.forEach(a)}function c(n){return"function"==typeof n}function s(n,e){return n!=n?e==e:n!==e||n&&"object"==typeof n||"function"==typeof n}function o(n,e,t){if(n){const a=l(n,e,t);return n[0](a)}}function l(n,e,a){return n[1]?t({},t(e.$$scope.ctx,n[1](a?a(e):{}))):e.$$scope.ctx}function u(n,e,a,i){return n[1]?t({},t(e.$$scope.changed||{},n[1](i?i(a):{}))):e.$$scope.changed||{}}const d="undefined"!=typeof window;let m=d?()=>window.performance.now():()=>Date.now(),h=d?n=>requestAnimationFrame(n):n;const f=new Set;let g,p=!1;function v(){f.forEach(n=>{n[0](m())||(f.delete(n),n[1]())}),(p=f.size>0)&&h(v)}function b(n){let e;return p||(p=!0,h(v)),{promise:new Promise(t=>{f.add(e=[n,t])}),abort(){f.delete(e)}}}function $(n,e){n.appendChild(e)}function M(n,e,t){n.insertBefore(e,t||null)}function w(n){n.parentNode.removeChild(n)}function k(n){return document.createElement(n)}function y(n){return document.createTextNode(n)}function S(){return y(" ")}function _(n,e,t,a){return n.addEventListener(e,t,a),()=>n.removeEventListener(e,t,a)}function x(n,e,t){null==t?n.removeAttribute(e):n.setAttribute(e,t)}function R(n,e){e=""+e,n.data!==e&&(n.data=e)}function E(n,e,t){n.classList[t?"add":"remove"](e)}function z(n,e){const t=document.createEvent("CustomEvent");return t.initCustomEvent(n,!1,!1,e),t}let I,O=0,B={};function T(n,e,t,a,i,r,c,s=0){const o=16.666/a;let l="{\n";for(let n=0;n<=1;n+=o){const a=e+(t-e)*r(n);l+=100*n+`%{${c(a,1-a)}}\n`}const u=l+`100% {${c(t,1-t)}}\n}`,d=`__svelte_${function(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}(u)}_${s}`;if(!B[d]){if(!g){const n=k("style");document.head.appendChild(n),g=n.sheet}B[d]=!0,g.insertRule(`@keyframes ${d} ${u}`,g.cssRules.length)}const m=n.style.animation||"";return n.style.animation=`${m?`${m}, `:""}${d} ${a}ms linear ${i}ms 1 both`,O+=1,d}function C(n,e){n.style.animation=(n.style.animation||"").split(", ").filter(e?n=>n.indexOf(e)<0:n=>-1===n.indexOf("__svelte")).join(", "),e&&!--O&&h(()=>{if(O)return;let n=g.cssRules.length;for(;n--;)g.deleteRule(n);B={}})}function L(t,a,i,r){if(!a)return n;const c=t.getBoundingClientRect();if(a.left===c.left&&a.right===c.right&&a.top===c.top&&a.bottom===c.bottom)return n;const{delay:s=0,duration:o=300,easing:l=e,start:u=m()+s,end:d=u+o,tick:h=n,css:f}=i(t,{from:a,to:c},r);let g,p=!0,v=!1;function $(){f&&C(t,g),p=!1}return b(n=>{if(!v&&n>=u&&(v=!0),v&&n>=d&&(h(1,0),$()),!p)return!1;if(v){const e=0+1*l((n-u)/o);h(e,1-e)}return!0}),f&&(g=T(t,0,1,o,s,l,f)),s||(v=!0),h(0,1),$}function N(n){const e=getComputedStyle(n);if("absolute"!==e.position&&"fixed"!==e.position){const{width:t,height:a}=e,i=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=a,q(n,i)}}function q(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const a=getComputedStyle(n),i="none"===a.transform?"":a.transform;n.style.transform=`${i} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function j(n){I=n}function P(){const n=I;return(e,t)=>{const a=n.$$.callbacks[e];if(a){const i=z(e,t);a.slice().forEach(e=>{e.call(n,i)})}}}const H=[],A=[],U=[],V=[],D=Promise.resolve();let J,F=!1;function G(n){U.push(n)}function K(){const n=new Set;do{for(;H.length;){const n=H.shift();j(n),Q(n.$$)}for(;A.length;)A.pop()();for(let e=0;e<U.length;e+=1){const t=U[e];n.has(t)||(t(),n.add(t))}U.length=0}while(H.length);for(;V.length;)V.pop()();F=!1}function Q(n){n.fragment&&(n.update(n.dirty),r(n.before_update),n.fragment.p(n.dirty,n.ctx),n.dirty=null,n.after_update.forEach(G))}function W(){return J||(J=Promise.resolve()).then(()=>{J=null}),J}function X(n,e,t){n.dispatchEvent(z(`${e?"intro":"outro"}${t}`))}const Y=new Set;let Z;function nn(){Z={r:0,c:[],p:Z}}function en(){Z.r||r(Z.c),Z=Z.p}function tn(n,e){n&&n.i&&(Y.delete(n),n.i(e))}function an(n,e,t,a){if(n&&n.o){if(Y.has(n))return;Y.add(n),Z.c.push(()=>{Y.delete(n),a&&(t&&n.d(1),a())}),n.o(e)}}const rn={duration:0};function cn(t,a,i){let r,s,o=a(t,i),l=!1,u=0;function d(){r&&C(t,r)}function h(){const{delay:a=0,duration:i=300,easing:c=e,tick:h=n,css:f}=o||rn;f&&(r=T(t,0,1,i,a,c,f,u++)),h(0,1);const g=m()+a,p=g+i;s&&s.abort(),l=!0,G(()=>X(t,!0,"start")),s=b(n=>{if(l){if(n>=p)return h(1,0),X(t,!0,"end"),d(),l=!1;if(n>=g){const e=c((n-g)/i);h(e,1-e)}}return l})}let f=!1;return{start(){f||(C(t),c(o)?(o=o(),W().then(h)):h())},invalidate(){f=!1},end(){l&&(d(),l=!1)}}}function sn(t,a,i){let s,o=a(t,i),l=!0;const u=Z;function d(){const{delay:a=0,duration:i=300,easing:c=e,tick:d=n,css:h}=o||rn;h&&(s=T(t,1,0,i,a,c,h));const f=m()+a,g=f+i;G(()=>X(t,!1,"start")),b(n=>{if(l){if(n>=g)return d(0,1),X(t,!1,"end"),--u.r||r(u.c),!1;if(n>=f){const e=c((n-f)/i);d(1-e,e)}}return l})}return u.r+=1,c(o)?W().then(()=>{o=o(),d()}):d(),{end(n){n&&o.tick&&o.tick(1,0),l&&(s&&C(t,s),l=!1)}}}function on(t,a,i,s){let o=a(t,i),l=s?0:1,u=null,d=null,h=null;function f(){h&&C(t,h)}function g(n,e){const t=n.b-l;return e*=Math.abs(t),{a:l,b:n.b,d:t,duration:e,start:n.start,end:n.start+e,group:n.group}}function p(a){const{delay:i=0,duration:c=300,easing:s=e,tick:p=n,css:v}=o||rn,$={start:m()+i,b:a};a||($.group=Z,Z.r+=1),u?d=$:(v&&(f(),h=T(t,l,a,c,i,s,v)),a&&p(0,1),u=g($,c),G(()=>X(t,a,"start")),b(n=>{if(d&&n>d.start&&(u=g(d,c),d=null,X(t,u.b,"start"),v&&(f(),h=T(t,l,u.b,u.duration,0,s,o.css))),u)if(n>=u.end)p(l=u.b,1-l),X(t,u.b,"end"),d||(u.b?f():--u.group.r||r(u.group.c)),u=null;else if(n>=u.start){const e=n-u.start;l=u.a+u.d*s(e/u.duration),p(l,1-l)}return!(!u&&!d)}))}return{run(n){c(o)?W().then(()=>{o=o(),p(n)}):p(n)},end(){f(),u=d=null}}}function ln(n,e){n.f(),function(n,e){an(n,1,1,()=>{e.delete(n.key)})}(n,e)}function un(n,e,t,a,i,r,c,s,o,l,u,d){let m=n.length,h=r.length,f=m;const g={};for(;f--;)g[n[f].key]=f;const p=[],v=new Map,b=new Map;for(f=h;f--;){const n=d(i,r,f),s=t(n);let o=c.get(s);o?a&&o.p(e,n):(o=l(s,n)).c(),v.set(s,p[f]=o),s in g&&b.set(s,Math.abs(f-g[s]))}const $=new Set,M=new Set;function w(n){tn(n,1),n.m(s,u),c.set(n.key,n),u=n.first,h--}for(;m&&h;){const e=p[h-1],t=n[m-1],a=e.key,i=t.key;e===t?(u=e.first,m--,h--):v.has(i)?!c.has(a)||$.has(a)?w(e):M.has(i)?m--:b.get(a)>b.get(i)?(M.add(a),w(e)):($.add(i),m--):(o(t,c),m--)}for(;m--;){const e=n[m];v.has(e.key)||o(e,c)}for(;h;)w(p[h-1]);return p}function dn(n,e,t){const{fragment:i,on_mount:s,on_destroy:o,after_update:l}=n.$$;i.m(e,t),G(()=>{const e=s.map(a).filter(c);o?o.push(...e):r(e),n.$$.on_mount=[]}),l.forEach(G)}function mn(n,e){n.$$.fragment&&(r(n.$$.on_destroy),n.$$.fragment.d(e),n.$$.on_destroy=n.$$.fragment=null,n.$$.ctx={})}function hn(n,e){n.$$.dirty||(H.push(n),F||(F=!0,D.then(K)),n.$$.dirty=i()),n.$$.dirty[e]=!0}function fn(e,t,a,c,s,o){const l=I;j(e);const u=t.props||{},d=e.$$={fragment:null,ctx:null,props:o,update:n,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:i(),dirty:null};let m=!1;var h;d.ctx=a?a(e,u,(n,t,a=t)=>(d.ctx&&s(d.ctx[n],d.ctx[n]=a)&&(d.bound[n]&&d.bound[n](a),m&&hn(e,n)),t)):u,d.update(),m=!0,r(d.before_update),d.fragment=c(d.ctx),t.target&&(t.hydrate?d.fragment.l((h=t.target,Array.from(h.childNodes))):d.fragment.c(),t.intro&&tn(e.$$.fragment),dn(e,t.target,t.anchor),K()),j(l)}class gn{$destroy(){mn(this,1),this.$destroy=n}$on(n,e){const t=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return t.push(e),()=>{const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}$set(){}}function pn(e){var t;return{c(){(t=k("div")).innerHTML='<span class="svelte-wboruz">Loss of Production Speed</span><span class="svelte-wboruz">Ball Jam</span><span class="disabled svelte-wboruz">Sorting</span>',x(t,"class","dropdown-content svelte-wboruz")},m(n,e){M(n,t,e)},p:n,d(n){n&&w(t)}}}function vn(n){var e,t,a,i;function r(n,e){return e.machineRunning?$n:Mn}var c=r(0,n),s=c(n);return{c(){e=k("div"),s.c(),t=S(),(a=k("span")).innerHTML='<i class="fa fa-wrench svelte-wboruz" aria-hidden="true"></i>Maintenance',x(a,"class","svelte-wboruz"),E(a,"disabled",n.machineMaintenance),x(e,"class","dropdown-content svelte-wboruz"),i=_(a,"click",n.click_handler_8)},m(n,i){M(n,e,i),s.m(e,null),$(e,t),$(e,a)},p(n,i){c!==(c=r(0,i))&&(s.d(1),(s=c(i))&&(s.c(),s.m(e,t))),n.machineMaintenance&&E(a,"disabled",i.machineMaintenance)},d(n){n&&w(e),s.d(),i()}}}function bn(n){var e;function t(n,e){return e.streaming?wn:kn}var a=t(0,n),i=a(n);return{c(){e=k("div"),i.c(),x(e,"class","dropdown-content svelte-wboruz")},m(n,t){M(n,e,t),i.m(e,null)},p(n,r){a!==(a=t(0,r))&&(i.d(1),(i=a(r))&&(i.c(),i.m(e,null)))},d(n){n&&w(e),i.d()}}}function $n(n){var e,t;return{c(){(e=k("span")).innerHTML='<i class="fa fa-stop svelte-wboruz" aria-hidden="true"></i>Stop Machine',x(e,"class","svelte-wboruz"),t=_(e,"click",n.click_handler_7)},m(n,t){M(n,e,t)},d(n){n&&w(e),t()}}}function Mn(n){var e,t;return{c(){(e=k("span")).innerHTML='<i class="fa fa-play svelte-wboruz" aria-hidden="true"></i>Start Machine',x(e,"class","svelte-wboruz"),t=_(e,"click",n.click_handler_6)},m(n,t){M(n,e,t)},d(n){n&&w(e),t()}}}function wn(n){var e,t;return{c(){(e=k("span")).innerHTML='<i class="fa fa-stop svelte-wboruz" aria-hidden="true"></i>Stop Streaming',x(e,"class","svelte-wboruz"),t=_(e,"click",n.click_handler_5)},m(n,t){M(n,e,t)},d(n){n&&w(e),t()}}}function kn(n){var e,t;return{c(){(e=k("span")).innerHTML='<i class="fa fa-play svelte-wboruz" aria-hidden="true"></i>Start Streaming',x(e,"class","svelte-wboruz"),t=_(e,"click",n.click_handler_4)},m(n,t){M(n,e,t)},d(n){n&&w(e),t()}}}function yn(e){var t,a,i,c,s,o,l,u,d,m,h,f,g,p,v,b,z,I;function O(n,e){return e.activeButtons[0]?bn:e.activeButtons[1]?vn:pn}var B=O(0,e),T=B(e);return{c(){t=k("div"),a=k("div"),i=k("header"),c=k("i"),s=k("span"),o=y(e.machineTitle),l=S(),u=k("div"),d=k("div"),(m=k("div")).innerHTML='<div><i class="fa fa-line-chart svelte-wboruz" aria-hidden="true"></i><span class="svelte-wboruz">Streaming</span></div>',h=S(),(f=k("div")).innerHTML='<div><i class="fa fa-wrench svelte-wboruz" aria-hidden="true"></i><span class="svelte-wboruz">Machine</span></div>',g=S(),(p=k("div")).innerHTML='<div><i class="fa fa-exclamation-triangle svelte-wboruz" aria-hidden="true"></i><span class="svelte-wboruz">Errors</span></div>',v=S(),b=k("div"),z=k("div"),T.c(),x(c,"class","fa fa-bars"),x(c,"aria-hidden","true"),x(s,"class","svelte-wboruz"),x(i,"class","title svelte-wboruz"),x(a,"class","title-bar svelte-wboruz"),x(m,"class","icon-button svelte-wboruz"),E(m,"active",e.activeButtons[0]),x(f,"class","icon-button svelte-wboruz"),E(f,"active",e.activeButtons[1]),x(p,"class","icon-button svelte-wboruz"),E(p,"active",e.activeButtons[2]),x(d,"class","button-group svelte-wboruz"),x(u,"class","button-bar svelte-wboruz"),x(z,"class","dropdown-inner svelte-wboruz"),x(b,"class","dropdown svelte-wboruz"),x(t,"id","status-bar"),I=[_(c,"click",e.click_handler),_(m,"click",e.click_handler_1),_(f,"click",e.click_handler_2),_(p,"click",e.click_handler_3)]},m(n,e){M(n,t,e),$(t,a),$(a,i),$(i,c),$(i,s),$(s,o),$(t,l),$(t,u),$(u,d),$(d,m),$(d,h),$(d,f),$(d,g),$(d,p),$(t,v),$(t,b),$(b,z),T.m(z,null)},p(n,e){n.machineTitle&&R(o,e.machineTitle),n.activeButtons&&(E(m,"active",e.activeButtons[0]),E(f,"active",e.activeButtons[1]),E(p,"active",e.activeButtons[2])),B===(B=O(0,e))&&T?T.p(n,e):(T.d(1),(T=B(e))&&(T.c(),T.m(z,null)))},i:n,o:n,d(n){n&&w(t),T.d(),r(I)}}}function Sn(n,e,t){const a=P();let{streaming:i=!1,machineRunning:r=!1,machineStatus:c="",machineTitle:s="",machineMaintenance:o=!1}=e,l=[!0,!1,!1];const u=n=>{t("activeButtons",l=[!1,!1,!1]),t("activeButtons",l[n]=!0,l)};return n.$set=(n=>{"streaming"in n&&t("streaming",i=n.streaming),"machineRunning"in n&&t("machineRunning",r=n.machineRunning),"machineStatus"in n&&t("machineStatus",c=n.machineStatus),"machineTitle"in n&&t("machineTitle",s=n.machineTitle),"machineMaintenance"in n&&t("machineMaintenance",o=n.machineMaintenance)}),n.$$.update=((n={streaming:1,machineRunning:1})=>{n.streaming||n.machineRunning}),{dispatch:a,streaming:i,machineRunning:r,machineStatus:c,machineTitle:s,machineMaintenance:o,activeButtons:l,toggleMenu:u,click_handler:()=>a("openMenu"),click_handler_1:()=>u(0),click_handler_2:()=>u(1),click_handler_3:()=>u(2),click_handler_4:()=>a("startStream"),click_handler_5:()=>a("stopStream"),click_handler_6:()=>a("startMachine"),click_handler_7:()=>a("stopMachine"),click_handler_8:()=>a("maintenanceMode")}}class _n extends gn{constructor(n){super(),fn(this,n,Sn,yn,s,["streaming","machineRunning","machineStatus","machineTitle","machineMaintenance"])}}function xn(e){var t;return{c(){(t=k("div")).textContent="Proceedix Image Placeholder...",x(t,"id","placeholder"),x(t,"class","svelte-124zphl")},m(n,e){M(n,t,e)},p:n,i:n,o:n,d(n){n&&w(t)}}}class Rn extends gn{constructor(n){super(),fn(this,n,null,xn,s,[])}}function En(e){var t,a,i,r,c,s,o,l,u,d,m,h,f,g,p,v,b=e.streaming?"streaming":"offline";return{c(){t=k("footer"),a=k("div"),i=k("div"),r=y("Streaming:\r\n      "),c=k("span"),s=y(b),o=S(),l=k("div"),u=y("Machine:\r\n      "),d=k("span"),m=y(e.machineStatus),h=S(),f=k("div"),g=y("Error:\r\n      "),p=k("span"),v=y(e.machineError),x(c,"class","svelte-1a8d8lr"),E(c,"success",e.streaming),E(c,"danger",!e.streaming),x(d,"class","svelte-1a8d8lr"),E(d,"success",e.machineRunning),E(d,"danger",!e.machineRunning&&!e.machineMaintenance),E(d,"warning",!e.machineRunning&&e.machineMaintenance),x(p,"class","svelte-1a8d8lr"),E(p,"success",!e.hasError),E(p,"danger",e.hasError),x(a,"class","status svelte-1a8d8lr"),x(t,"class","status-bar-row svelte-1a8d8lr")},m(n,e){M(n,t,e),$(t,a),$(a,i),$(i,r),$(i,c),$(c,s),$(a,o),$(a,l),$(l,u),$(l,d),$(d,m),$(a,h),$(a,f),$(f,g),$(f,p),$(p,v)},p(n,e){n.streaming&&b!==(b=e.streaming?"streaming":"offline")&&R(s,b),n.streaming&&(E(c,"success",e.streaming),E(c,"danger",!e.streaming)),n.machineStatus&&R(m,e.machineStatus),n.machineRunning&&E(d,"success",e.machineRunning),(n.machineRunning||n.machineMaintenance)&&(E(d,"danger",!e.machineRunning&&!e.machineMaintenance),E(d,"warning",!e.machineRunning&&e.machineMaintenance)),n.machineError&&R(v,e.machineError),n.hasError&&(E(p,"success",!e.hasError),E(p,"danger",e.hasError))},i:n,o:n,d(n){n&&w(t)}}}function zn(n,e,t){let{streaming:a=!1,machineRunning:i=!1,machineStatus:r="",machineMaintenance:c=!1,machineError:s="none",hasError:o=!1}=e;return n.$set=(n=>{"streaming"in n&&t("streaming",a=n.streaming),"machineRunning"in n&&t("machineRunning",i=n.machineRunning),"machineStatus"in n&&t("machineStatus",r=n.machineStatus),"machineMaintenance"in n&&t("machineMaintenance",c=n.machineMaintenance),"machineError"in n&&t("machineError",s=n.machineError),"hasError"in n&&t("hasError",o=n.hasError)}),{streaming:a,machineRunning:i,machineStatus:r,machineMaintenance:c,machineError:s,hasError:o}}class In extends gn{constructor(n){super(),fn(this,n,zn,En,s,["streaming","machineRunning","machineStatus","machineMaintenance","machineError","hasError"])}}function On(n){const e=n-1;return e*e*e+1}function Bn(n){return--n*n*n*n*n+1}function Tn(n,{delay:e=0,duration:t=400,easing:a=On,x:i=0,y:r=0,opacity:c=0}){const s=getComputedStyle(n),o=+s.opacity,l="none"===s.transform?"":s.transform,u=o*(1-c);return{delay:e,duration:t,easing:a,css:(n,e)=>`\n\t\t\ttransform: ${l} translate(${(1-n)*i}px, ${(1-n)*r}px);\n\t\t\topacity: ${o-u*e}`}}function Cn(n){var{fallback:e}=n,a=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(n);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(n,a[i])&&(t[a[i]]=n[a[i]])}return t}(n,["fallback"]);const i=new Map,r=new Map;function s(n,i,r){return(s,o)=>(n.set(o.key,{rect:s.getBoundingClientRect()}),()=>{if(i.has(o.key)){const{rect:n}=i.get(o.key);return i.delete(o.key),function(n,e,i){const{delay:r=0,duration:s=(n=>30*Math.sqrt(n)),easing:o=On}=t(t({},a),i),l=e.getBoundingClientRect(),u=n.left-l.left,d=n.top-l.top,m=n.width/l.width,h=n.height/l.height,f=Math.sqrt(u*u+d*d),g=getComputedStyle(e),p="none"===g.transform?"":g.transform,v=+g.opacity;return{delay:r,duration:c(s)?s(f):s,easing:o,css:(n,e)=>`\n\t\t\t\topacity: ${n*v};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${p} translate(${e*u}px,${e*d}px) scale(${n+(1-n)*m}, ${n+(1-n)*h});\n\t\t\t`}}(n,s,o)}return n.delete(o.key),e&&e(s,o,r)})}return[s(r,i,!1),s(i,r,!0)]}function Ln(e){var t,a,i,r,c,s;return{c(){t=k("aside"),a=k("i"),(i=k("span")).textContent="Lego_EOL_1",x(a,"class","fa fa-bars svelte-1kqj0br"),x(a,"aria-hidden","true"),x(i,"class","svelte-1kqj0br"),x(t,"id","sidebar"),x(t,"class","svelte-1kqj0br"),s=_(a,"click",e.click_handler)},m(n,e){M(n,t,e),$(t,a),$(t,i),c=!0},p:n,i(n){c||(G(()=>{r||(r=on(t,Tn,{x:-300,duration:500},!0)),r.run(1)}),c=!0)},o(n){r||(r=on(t,Tn,{x:-300,duration:500},!1)),r.run(0),c=!1},d(n){n&&(w(t),r&&r.end()),s()}}}function Nn(n){const e=P();return{dispatch:e,click_handler:()=>e("closeMenu")}}class qn extends gn{constructor(n){super(),fn(this,n,Nn,Ln,s,[])}}function jn(n,e,t){const a=getComputedStyle(n),i="none"===a.transform?"":a.transform,r=e.from.left-e.to.left,s=e.from.top-e.to.top,o=Math.sqrt(r*r+s*s),{delay:l=0,duration:u=(n=>120*Math.sqrt(n)),easing:d=On}=t;return{delay:l,duration:c(u)?u(o):u,easing:d,css:(n,e)=>`transform: ${i} translate(${e*r}px, ${e*s}px);`}}function Pn(n,e,t){const a=Object.create(n);return a.ball=e[t],a}function Hn(n,e,t){const a=Object.create(n);return a.ball=e[t],a}function An(n,e,t){const a=Object.create(n);return a.ball=e[t],a}function Un(e,t){var a,i,r,c,s,o,l,u,d=n;function m(){return t.click_handler(t)}return{key:e,first:null,c(){a=k("div"),i=k("img"),c=S(),x(i,"src",r=t.ball.basketball?Gn:Fn),x(i,"alt","ball"),x(i,"class","svelte-vv315o"),x(a,"class","ball-wrapper svelte-vv315o"),u=_(a,"click",m),this.first=a},m(n,e){M(n,a,e),$(a,i),$(a,c),l=!0},p(n,e){t=e,l&&!n.balls||r===(r=t.ball.basketball?Gn:Fn)||x(i,"src",r)},r(){o=a.getBoundingClientRect()},f(){N(a),d(),q(a,o)},a(){d(),d=L(a,o,jn,{delay:0,duration:750,easing:Bn})},i(n){l||(s&&s.end(1),l=!0)},o(n){s=sn(a,t.send,{key:t.ball.id}),l=!1},d(n){n&&(w(a),s&&s.end()),u()}}}function Vn(e,t){var a,i,r,c,s,o,l,u,d=n;return{key:e,first:null,c(){a=k("div"),i=k("img"),c=S(),x(i,"src",r=t.ball.basketball?Gn:Fn),x(i,"alt","ball"),x(i,"class","svelte-vv315o"),x(a,"class","ball-wrapper svelte-vv315o"),this.first=a},m(n,e){M(n,a,e),$(a,i),$(a,c),u=!0},p(n,e){u&&!n.rampOne||r===(r=e.ball.basketball?Gn:Fn)||x(i,"src",r)},r(){l=a.getBoundingClientRect()},f(){N(a),d(),q(a,l)},a(){d(),d=L(a,l,jn,{delay:0,duration:500,easing:Bn})},i(n){u||(G(()=>{o&&o.end(1),s||(s=cn(a,t.receive,{key:t.ball.id})),s.start()}),u=!0)},o(n){s&&s.invalidate(),o=sn(a,Tn,{y:100,duration:1e3}),u=!1},d(n){n&&(w(a),o&&o.end())}}}function Dn(e,t){var a,i,r,c,s,o,l,u,d=n;return{key:e,first:null,c(){a=k("div"),i=k("img"),c=S(),x(i,"src",r=t.ball.basketball?Gn:Fn),x(i,"alt","ball"),x(i,"class","svelte-vv315o"),x(a,"class","ball-wrapper svelte-vv315o"),this.first=a},m(n,e){M(n,a,e),$(a,i),$(a,c),u=!0},p(n,e){u&&!n.rampTwo||r===(r=e.ball.basketball?Gn:Fn)||x(i,"src",r)},r(){l=a.getBoundingClientRect()},f(){N(a),d(),q(a,l)},a(){d(),d=L(a,l,jn,{delay:0,duration:500,easing:Bn})},i(n){u||(G(()=>{o&&o.end(1),s||(s=cn(a,t.receive,{key:t.ball.id})),s.start()}),u=!0)},o(n){s&&s.invalidate(),o=sn(a,Tn,{y:100,duration:1e3}),u=!1},d(n){n&&(w(a),o&&o.end())}}}function Jn(n){var e,t,a,i,r,c,s,o,l,u,d=[],m=new Map,h=[],f=new Map,g=[],p=new Map;let v=n.balls;const b=n=>n.ball.id;for(let e=0;e<v.length;e+=1){let t=An(n,v,e),a=b(t);m.set(a,d[e]=Un(a,t))}let y=n.rampOne;const _=n=>n.ball.id;for(let e=0;e<y.length;e+=1){let t=Hn(n,y,e),a=_(t);f.set(a,h[e]=Vn(a,t))}let R=n.rampTwo;const z=n=>n.ball.id;for(let e=0;e<R.length;e+=1){let t=Pn(n,R,e),a=z(t);p.set(a,g[e]=Dn(a,t))}return{c(){e=k("div"),t=k("div"),a=k("div"),i=S();for(let n=0;n<d.length;n+=1)d[n].c();r=S(),c=k("div"),s=k("div");for(let n=0;n<h.length;n+=1)h[n].c();o=S(),l=k("div");for(let n=0;n<g.length;n+=1)g[n].c();x(a,"class","scanner svelte-vv315o"),E(a,"nio",!n.isIO),x(t,"class","pool svelte-vv315o"),x(s,"class","ramp svelte-vv315o"),x(l,"class","ramp svelte-vv315o"),x(c,"class","ramp-container svelte-vv315o"),x(e,"class","board svelte-vv315o")},m(n,m){M(n,e,m),$(e,t),$(t,a),$(t,i);for(let n=0;n<d.length;n+=1)d[n].m(t,null);$(e,r),$(e,c),$(c,s);for(let n=0;n<h.length;n+=1)h[n].m(s,null);$(c,o),$(c,l);for(let n=0;n<g.length;n+=1)g[n].m(l,null);u=!0},p(n,e){n.isIO&&E(a,"nio",!e.isIO);const i=e.balls;nn();for(let n=0;n<d.length;n+=1)d[n].r();d=un(d,n,b,1,e,i,m,t,ln,Un,null,An);for(let n=0;n<d.length;n+=1)d[n].a();en();const r=e.rampOne;nn();for(let n=0;n<h.length;n+=1)h[n].r();h=un(h,n,_,1,e,r,f,s,ln,Vn,null,Hn);for(let n=0;n<h.length;n+=1)h[n].a();en();const c=e.rampTwo;nn();for(let n=0;n<g.length;n+=1)g[n].r();g=un(g,n,z,1,e,c,p,l,ln,Dn,null,Pn);for(let n=0;n<g.length;n+=1)g[n].a();en()},i(n){if(!u){for(let n=0;n<v.length;n+=1)tn(d[n]);for(let n=0;n<y.length;n+=1)tn(h[n]);for(let n=0;n<R.length;n+=1)tn(g[n]);u=!0}},o(n){for(let n=0;n<d.length;n+=1)an(d[n]);for(let n=0;n<h.length;n+=1)an(h[n]);for(let n=0;n<g.length;n+=1)an(g[n]);u=!1},d(n){n&&w(e);for(let n=0;n<d.length;n+=1)d[n].d();for(let n=0;n<h.length;n+=1)h[n].d();for(let n=0;n<g.length;n+=1)g[n].d()}}}let Fn="soccer.png",Gn="basketball.png";function Kn(n,e,t){let{machineRunning:a,streaming:i,machineStatus:r}=e;const[c,s]=Cn({duration:n=>Math.sqrt(1200*n)});let o,l,u=1,d=[...[{id:u++,basketball:Math.random()<.5},{id:u++,basketball:Math.random()<.5},{id:u++,basketball:Math.random()<.5},{id:u++,basketball:Math.random()<.5},{id:u++,basketball:Math.random()<.5},{id:u++,basketball:Math.random()<.5},{id:u++,basketball:Math.random()<.5}]],m=d[0].basketball,h=0,f=0,g=0,p=[],v=[];function b(n){n.basketball?(t("rampOne",p=[n,...p]),t("ioCounter",f++,f)):(t("rampTwo",v=[n,...v]),t("nioCounter",g++,g)),t("sortedBallsSinceLastUpdate",h++,h);const e={id:u++,basketball:Math.random()<.5};t("balls",d=[...d.slice(1,d.length),e])}return n.$set=(n=>{"machineRunning"in n&&t("machineRunning",a=n.machineRunning),"streaming"in n&&t("streaming",i=n.streaming),"machineStatus"in n&&t("machineStatus",r=n.machineStatus)}),n.$$.update=((n={machineRunning:1,machineInterval:1,rampOne:1,rampTwo:1,balls:1,streaming:1,streamingInterval:1,machineStatus:1,sortedBallsSinceLastUpdate:1,ioCounter:1,nioCounter:1})=>{(n.machineRunning||n.machineInterval||n.rampOne||n.rampTwo||n.balls)&&(a&&!o?t("machineInterval",o=setInterval(()=>{p.length>4?t("rampOne",p=[]):v.length>4?t("rampTwo",v=[]):d.length>0&&(b(d[0]),t("isIO",m=d[0].basketball))},1e3)):!a&&o&&(clearInterval(o),t("machineInterval",o=void 0))),(n.streaming||n.streamingInterval||n.machineStatus||n.sortedBallsSinceLastUpdate||n.ioCounter||n.nioCounter)&&(i&&!l?t("streamingInterval",l=setInterval(()=>{const n={deviceId:"EU_DE_30521-LEGO_EOL_1",sharedAccessKey:"",plantId:"EU_DE_30521",machineStatus:r,machineSpeed:h<15?h:15,iO:f,nIO:g,cntAll:f+g};t("sortedBallsSinceLastUpdate",h=0),fetch("http://localhost:5001/streaming/sendMessage",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)}).then(n=>{console.log(n)}).catch(n=>{console.log(n)})},15e3)):!i&&l&&(clearInterval(l),t("streamingInterval",l=void 0)))}),{machineRunning:a,streaming:i,machineStatus:r,send:c,receive:s,balls:d,isIO:m,rampOne:p,rampTwo:v,filterBall:b,click_handler:({ball:n})=>b(n)}}class Qn extends gn{constructor(n){super(),fn(this,n,Kn,Jn,s,["machineRunning","streaming","machineStatus"])}}function Wn(n,e,t){const a=Object.create(n);return a.tab=e[t],a.i=t,a}const Xn=()=>({}),Yn=()=>({}),Zn=()=>({}),ne=()=>({});function ee(n){var e,t,a,i=n.tab+"";function r(){return n.click_handler(n)}return{c(){e=k("div"),t=y(i),x(e,"class","tabview-menu-item svelte-1qz3ebb"),E(e,"active",n.activeIndex===n.i+1),a=_(e,"click",r)},m(n,a){M(n,e,a),$(e,t)},p(a,r){n=r,a.tabNames&&i!==(i=n.tab+"")&&R(t,i),a.activeIndex&&E(e,"active",n.activeIndex===n.i+1)},d(n){n&&w(e),a()}}}function te(n){var e,t,a,i,r,c,s,d,m,h;const f=n.$$slots["tab-1"],g=o(f,n,ne),p=n.$$slots["tab-2"],v=o(p,n,Yn);let b=n.tabNames,_=[];for(let e=0;e<b.length;e+=1)_[e]=ee(Wn(n,b,e));return{c(){e=k("div"),t=k("div"),a=k("div"),g||(i=y("No Tab provided.")),g&&g.c(),r=S(),c=k("div"),v||(s=y("No Tab provided.")),v&&v.c(),d=S(),m=k("nav");for(let n=0;n<_.length;n+=1)_[n].c();x(a,"class","tab svelte-1qz3ebb"),E(a,"active",1===n.activeIndex),x(c,"class","tab svelte-1qz3ebb"),E(c,"active",2===n.activeIndex),x(t,"class","tabview-tabs svelte-1qz3ebb"),x(m,"class","tabview-menu svelte-1qz3ebb"),x(e,"class","tabview-container svelte-1qz3ebb")},l(n){g&&g.l(div0_nodes),v&&v.l(div1_nodes)},m(n,o){M(n,e,o),$(e,t),$(t,a),g?g.m(a,null):$(a,i),$(t,r),$(t,c),v?v.m(c,null):$(c,s),$(e,d),$(e,m);for(let n=0;n<_.length;n+=1)_[n].m(m,null);h=!0},p(n,e){if(g&&g.p&&n.$$scope&&g.p(u(f,e,n,Zn),l(f,e,ne)),n.activeIndex&&E(a,"active",1===e.activeIndex),v&&v.p&&n.$$scope&&v.p(u(p,e,n,Xn),l(p,e,Yn)),n.activeIndex&&E(c,"active",2===e.activeIndex),n.activeIndex||n.tabNames){let t;for(b=e.tabNames,t=0;t<b.length;t+=1){const a=Wn(e,b,t);_[t]?_[t].p(n,a):(_[t]=ee(a),_[t].c(),_[t].m(m,null))}for(;t<_.length;t+=1)_[t].d(1);_.length=b.length}},i(n){h||(tn(g,n),tn(v,n),h=!0)},o(n){an(g,n),an(v,n),h=!1},d(n){n&&w(e),g&&g.d(n),v&&v.d(n),function(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}(_,n)}}}function ae(n,e,t){let{tabNames:a=[],activeIndex:i=1}=e,{$$slots:r={},$$scope:c}=e;return n.$set=(n=>{"tabNames"in n&&t("tabNames",a=n.tabNames),"activeIndex"in n&&t("activeIndex",i=n.activeIndex),"$$scope"in n&&t("$$scope",c=n.$$scope)}),{tabNames:a,activeIndex:i,click_handler:({i:n})=>t("activeIndex",i=n+1),$$slots:r,$$scope:c}}class ie extends gn{constructor(n){super(),fn(this,n,ae,te,s,["tabNames","activeIndex"])}}function re(n){var e,t,a=new Qn({props:{machineRunning:n.machineRunning,streaming:n.streaming,machineStatus:n.machineStatus,machineError:me}});return{c(){e=k("section"),a.$$.fragment.c(),x(e,"slot","tab-1"),x(e,"class","svelte-1xpbva6")},m(n,i){M(n,e,i),dn(a,e,null),t=!0},p(n,e){var t={};n.machineRunning&&(t.machineRunning=e.machineRunning),n.streaming&&(t.streaming=e.streaming),n.machineStatus&&(t.machineStatus=e.machineStatus),a.$set(t)},i(n){t||(tn(a.$$.fragment,n),t=!0)},o(n){an(a.$$.fragment,n),t=!1},d(n){n&&w(e),mn(a)}}}function ce(n){var e,t,a=new Rn({});return{c(){e=k("section"),a.$$.fragment.c(),x(e,"slot","tab-2"),x(e,"class","svelte-1xpbva6")},m(n,i){M(n,e,i),dn(a,e,null),t=!0},i(n){t||(tn(a.$$.fragment,n),t=!0)},o(n){an(a.$$.fragment,n),t=!1},d(n){n&&w(e),mn(a)}}}function se(e){var t;return{c(){t=S()},m(n,e){M(n,t,e)},p:n,i:n,o:n,d(n){n&&w(t)}}}function oe(n){var e,t=new qn({});return t.$on("closeMenu",n.closeMenu),{c(){t.$$.fragment.c()},m(n,a){dn(t,n,a),e=!0},i(n){e||(tn(t.$$.fragment,n),e=!0)},o(n){an(t.$$.fragment,n),e=!1},d(n){mn(t,n)}}}function le(n){var e,t,a,i,r,c=new _n({props:{streaming:n.streaming,machineRunning:n.machineRunning,machineStatus:n.machineStatus,machineTitle:ue,machineMaintenance:n.machineMaintenance}});c.$on("startStream",n.startStream),c.$on("stopStream",n.stopStream),c.$on("startMachine",n.startMachine),c.$on("stopMachine",n.stopMachine),c.$on("maintenanceMode",n.setMaintenanceMode),c.$on("openMenu",n.openMenu);var s=new ie({props:{tabNames:["Demo","Proceedix","Logs"],$$slots:{default:[se],"tab-2":[ce],"tab-1":[re]},$$scope:{ctx:n}}}),o=new In({props:{streaming:n.streaming,machineRunning:n.machineRunning,machineStatus:n.machineStatus,machineMaintenance:n.machineMaintenance,hasError:de,machineError:me}}),l=n.sideBarVisible&&oe(n);return{c(){c.$$.fragment.c(),e=S(),s.$$.fragment.c(),t=S(),o.$$.fragment.c(),a=S(),l&&l.c(),i=y("")},m(n,u){dn(c,n,u),M(n,e,u),dn(s,n,u),M(n,t,u),dn(o,n,u),M(n,a,u),l&&l.m(n,u),M(n,i,u),r=!0},p(n,e){var t={};n.streaming&&(t.streaming=e.streaming),n.machineRunning&&(t.machineRunning=e.machineRunning),n.machineStatus&&(t.machineStatus=e.machineStatus),n.machineMaintenance&&(t.machineMaintenance=e.machineMaintenance),c.$set(t);var a={};(n.$$scope||n.machineRunning||n.streaming||n.machineStatus)&&(a.$$scope={changed:n,ctx:e}),s.$set(a);var r={};n.streaming&&(r.streaming=e.streaming),n.machineRunning&&(r.machineRunning=e.machineRunning),n.machineStatus&&(r.machineStatus=e.machineStatus),n.machineMaintenance&&(r.machineMaintenance=e.machineMaintenance),o.$set(r),e.sideBarVisible?l?tn(l,1):((l=oe(e)).c(),tn(l,1),l.m(i.parentNode,i)):l&&(nn(),an(l,1,1,()=>{l=null}),en())},i(n){r||(tn(c.$$.fragment,n),tn(s.$$.fragment,n),tn(o.$$.fragment,n),tn(l),r=!0)},o(n){an(c.$$.fragment,n),an(s.$$.fragment,n),an(o.$$.fragment,n),an(l),r=!1},d(n){mn(c,n),n&&w(e),mn(s,n),n&&w(t),mn(o,n),n&&w(a),l&&l.d(n),n&&w(i)}}}let ue="Lego_EOL_1",de=!1,me="none";function he(n,e,t){let a=!1,i=!1,r="offline",c=!1,s=!1;return{streaming:a,machineRunning:i,machineStatus:r,machineMaintenance:c,sideBarVisible:s,startStream:()=>{a||t("streaming",a=!0)},stopStream:()=>{a&&t("streaming",a=!1)},startMachine:()=>{i||(t("machineRunning",i=!0),t("machineMaintenance",c=!1),t("machineStatus",r="working"))},stopMachine:()=>{t("machineRunning",i=!1),t("machineMaintenance",c=!1),t("machineStatus",r="offline")},setMaintenanceMode:()=>{t("machineRunning",i=!1),t("machineMaintenance",c=!0),t("machineStatus",r="maintenance")},openMenu:()=>{t("sideBarVisible",s=!0)},closeMenu:()=>{t("sideBarVisible",s=!1)}}}return new class extends gn{constructor(n){super(),fn(this,n,he,le,s,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
